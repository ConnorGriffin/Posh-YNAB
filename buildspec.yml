version: 0.2

#env:
  #variables:
     # key: "value"
     # key: "value"
  #parameter-store:
     # key: "value"
     # key: "value"

phases:
  install:
    commands:
        - curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
        - mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg
        - echo "deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-trusty-prod trusty main" > /etc/apt/sources.list.d/dotnetdev.list
        - apt-get install dotnet-runtime-2.1.4 -y
  #pre_build:
    #commands:
      # - command
      # - command
  build:
    commands:
        - pwsh ./CodeDeploy.ps1 -Phase Build
        #
  #post_build:
    #commands:
      # - command
      # - command
#artifacts:
  #files:
    # - location
    # - location
  #discard-paths: yes
  #base-directory: location
#cache:
  #paths:
    # - paths
